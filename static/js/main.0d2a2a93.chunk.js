(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{22:function(e,t,n){e.exports=n(42)},27:function(e,t,n){},28:function(e,t,n){},29:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){},39:function(e,t,n){},40:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(19),l=n.n(i);n(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(3),o=n(4),c=n(6),u=n(5),h=n(1),d=n(10),p=(n(28),n(29),function(e){return s.a.createElement("button",{className:"button",onClick:e.click},s.a.createElement("div",{className:"button_line"}),s.a.createElement("div",{className:"button_line"}),s.a.createElement("div",{className:"button_line"}))}),m=function(e){var t,n="";return e.sidebarUnlocked&&(t=s.a.createElement("div",{className:"sidebarbtn"},s.a.createElement(p,{click:e.sidebarClickHandler})),n=s.a.createElement("ul",null,s.a.createElement(h.b,{to:"/home"},s.a.createElement("li",null,s.a.createElement("a",{href:"/"},"Buy"))),s.a.createElement(h.b,{to:"/shoppingcart"},s.a.createElement("li",null,s.a.createElement("a",{href:"/"},"Shopping Cart"))))),e.business&&(n=s.a.createElement("ul",null,s.a.createElement(h.b,{to:"/"},s.a.createElement("li",null,"Buy")),s.a.createElement(h.b,{to:"/shoppingcart"},s.a.createElement("li",null,"Shopping Cart")),s.a.createElement(h.b,{to:"/home"},s.a.createElement("li",null,"Buy")),s.a.createElement(h.b,{to:"/requestlist"},s.a.createElement("li",null,"Requests")),s.a.createElement(h.b,{to:"/stocklist"},s.a.createElement("li",null,"Stock")))),s.a.createElement("header",{className:"toolbar"},s.a.createElement("nav",{className:"navi"},t,s.a.createElement("div",{className:"navi_logo"},s.a.createElement("a",{href:"/"},"LOCKDOWNSHOPPING")),s.a.createElement("div",{className:"placeholder"}),s.a.createElement("div",{className:"navi_items"},n)))},g=(n(35),function(e){var t="sidebar",n=s.a.createElement("ul",null,s.a.createElement(h.b,{to:"/home"},"Buy"),s.a.createElement("br",null),s.a.createElement(h.b,{to:"/shoppingcart"},"Shopping Cart"),s.a.createElement("br",null));return e.show&&(t="sidebar open"),e.business&&(n=s.a.createElement("ul",null,s.a.createElement(h.b,{to:"/home"},"Buy"),s.a.createElement("br",null),s.a.createElement(h.b,{to:"/shoppingcart"},"Shopping Cart"),s.a.createElement("br",null),s.a.createElement(h.b,{to:"/requestlist"},"Requests"),s.a.createElement("br",null),s.a.createElement(h.b,{to:"/stocklist"},"Stock"),s.a.createElement("br",null))),s.a.createElement("nav",{className:t},n)}),b=(n(36),function(e){return s.a.createElement("div",{className:"backdrop",onClick:e.click})}),f=(n(37),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this)).state={update:e.update,login:{name:"",pwd:""},signUp:{isBusiness:"client",name:"",pwd:"",sells:"",addr:"",test:""},users:[],shops:[],loggedIn:!1},a}return Object(o.a)(n,[{key:"handleLogin",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/users").then((function(e){return e.json()})).then((function(t){return e.setState({users:t.users})})),fetch("https://gentle-ravine-17514.herokuapp.com/shops").then((function(e){return e.json()})).then((function(t){return e.setState({shops:t.shops})}))}},{key:"handleLoginNameChange",value:function(e){this.setState({login:{name:e.target.value,pwd:this.state.login.pwd}})}},{key:"handleLoginPwdChange",value:function(e){this.setState({login:{name:this.state.login.name,pwd:e.target.value}})}},{key:"render",value:function(e){var t=this;if(this.state.loggedIn)return s.a.createElement(d.a,{to:"/home"});console.log(this.state.users);var n=this.state.users.filter((function(e){return e.user_name===t.state.login.name}));n.length>0&&(console.log("logging in as customer"),console.log("deep: "+n[0]),this.props.update({isBusiness:!1,name:n[0].user_name}),this.setState({loggedIn:!0}));var a=this.state.shops.filter((function(e){return e.shop_name===t.state.login.name}));return a.length>0&&(console.log("logging in as business"),this.props.update({isBusiness:!0,name:a[0].shop_name}),this.setState({loggedIn:!0})),s.a.createElement("div",{id:"container",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"loginBox",style:{alignSelf:"center",padding:"20px"}},s.a.createElement("h1",{style:{color:"#eb8c34"}}," Login "),s.a.createElement("form",{action:""},s.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:this.state.login.name,onChange:this.handleLoginNameChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("input",{type:"password",name:"pwd",placeholder:"Password",value:this.state.login.pwd,onChange:this.handleLoginPwdChange.bind(this)}),s.a.createElement("br",null)),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.handleLogin.bind(this)}," Login "),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("div",{className:"signupText"},"Don't have an account? ",s.a.createElement(h.b,{to:"/signup"},"Click here to sign up"))))}}]),n}(s.a.Component)),E=(n(38),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this)).state={shops:[],selected:"",updateSelectedShop:e.updateSelectedShop},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/shops").then((function(e){return e.json()})).then((function(t){return e.setState({shops:t.shops})}))}},{key:"handleClick",value:function(e){this.setState({selected:e}),this.state.updateSelectedShop(e)}},{key:"render",value:function(e){var t=this;return 0===this.state.selected.length?s.a.createElement("div",{id:"container",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"shopBox",style:{}},this.state.shops.map((function(e,n){return s.a.createElement("div",{className:"shop",key:n,onClick:function(){return t.handleClick(e.shop_name)}},s.a.createElement("div",{className:"logo"}),s.a.createElement("div",{className:"text"},s.a.createElement("h3",null,e.shop_name),s.a.createElement("p",null,"Type: ",e.sells)," ",s.a.createElement("p",null,"Address: ",e.address)))})))):s.a.createElement(d.a,{to:"/Shop"})}}]),n}(s.a.Component)),v=(n(39),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this)).state={products:[],addToCart:e.addToCart},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/products").then((function(e){return e.json()})).then((function(t){return e.setState({products:t.products})}))}},{key:"render",value:function(e){var t=this;return s.a.createElement("div",{id:"backgr",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"shopname"}," Welcome to ",this.props.shop," "),s.a.createElement("div",{className:"listgrid"},s.a.createElement("h2",{className:"amountlabel"},this.state.products.filter((function(e){return e.shop_name===t.props.shop})).length," products found"),s.a.createElement("div",{className:"grid"},this.state.products.filter((function(e){return e.shop_name===t.props.shop})).map((function(e,n){return s.a.createElement("div",{className:"product",style:{display:"clock"}},s.a.createElement("div",{className:"fakeImg"}),s.a.createElement("p",{className:"itemname",key:n}," ",e.product_name," "),s.a.createElement("p",{className:"price"},"50 \u20ac"),s.a.createElement("p",{className:"addtocart",onClick:function(){return t.state.addToCart(e)}}," Add to Cart "))}))))))}}]),n}(s.a.Component)),y=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this)).state={shop_name:e.shopName,requests:[]},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/requests").then((function(e){return e.json()})).then((function(t){return e.setState({requests:t.requests})}))}},{key:"render",value:function(){var e=this;return console.log(this.state.shop_name),s.a.createElement("div",null,this.state.requests.filter((function(t){return t.shop_name===e.state.shop_name})).map((function(e){return s.a.createElement("div",null,s.a.createElement("h1",null," A "),s.a.createElement("p",null," Name: ",e.product_name,", Desired Quantity: ",e.request_quantity,", Available: ",e.product_quantity," "))})))}}]),n}(s.a.Component),k=(n(40),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this)).state={shoppingCart:e.shoppingCart,user_name:e.userName},a}return Object(o.a)(n,[{key:"submitRequest",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop_name:e.shop_name,user_name:this.state.user_name,product_name:e.product_name,quantity:e.quantity})};console.log(t.body),fetch("https://gentle-ravine-17514.herokuapp.com/requests",t).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},{key:"submitRequests",value:function(){var e=this;this.state.shoppingCart.forEach((function(t){return e.submitRequest(t)}))}},{key:"render",value:function(){return s.a.createElement("div",{id:"backgr",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"cart"},s.a.createElement("h2",null,"Shopping Cart"),this.props.shoppingCart.map((function(e){return s.a.createElement("p",null," ",e.product_name," ")})),s.a.createElement("button",{onClick:this.submitRequests.bind(this)}," Request items on list ")))}}]),n}(s.a.Component)),C=n(13),S=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),console.log(e),(a=t.call(this)).state={products:[],name:e.shopName,addItem:"",quantity:0},a.loadProducts.bind(Object(C.a)(a)),a}return Object(o.a)(n,[{key:"loadProducts",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/products").then((function(e){return e.json()})).then((function(t){return e.setState({products:t.products})}))}},{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"addItem",value:function(){if(this.state.addItem.length>0){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop_name:this.state.name,product_name:this.state.addItem,quantity:this.state.quantity})};console.log(e.body),fetch("https://gentle-ravine-17514.herokuapp.com/products",e).then((function(e){return e.json()})).then((function(e){return console.log(e)})),this.setState({addItem:""}),this.state.products.push({shop_name:this.state.name,product_name:this.state.addItem,quantity:this.state.quantity})}}},{key:"handleAddItemChange",value:function(e){this.setState({addItem:e.target.value})}},{key:"handleQuantityChange",value:function(e){this.setState({quantity:e.target.value})}},{key:"render",value:function(){var e=this;return console.log(this.state),s.a.createElement("div",null,s.a.createElement("h1",null,"A"),s.a.createElement("h1",null," This is your inventory,  ",this.state.name," "),this.state.products.filter((function(t){return t.shop_name===e.state.name})).map((function(e,t){return s.a.createElement("p",{key:t}," Name:  ",e.product_name,", quantity: ",e.quantity," ")})),s.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:this.state.addItem,onChange:this.handleAddItemChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("input",{type:"number",name:"quantity",placeholder:"Quantity",value:this.state.quantity,onChange:this.handleQuantityChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.addItem.bind(this)}," Add Item "))}}]),n}(s.a.Component),U=(n(41),function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(r.a)(this,n),(a=t.call(this)).state={update:e.update,signUp:{isBusiness:"",name:"",pwd:"",sells:"",addr:"",test:"",shopname:""},users:[],loggedIn:!1},a}return Object(o.a)(n,[{key:"handleSignUpNameChange",value:function(e){this.setState({signUp:{isBusiness:this.state.signUp.isBusiness,name:e.target.value,pwd:this.state.signUp.pwd,addr:this.state.signUp.addr,sells:this.state.signUp.sells,shopname:this.state.signUp.shopname}}),console.log(this.state)}},{key:"handleSignUpPwdChange",value:function(e){this.setState({signUp:{isBusiness:this.state.signUp.isBusiness,name:this.state.signUp.name,pwd:e.target.value,addr:this.state.signUp.addr,sells:this.state.signUp.sells,shopname:this.state.signUp.shopname}}),console.log(this.state)}},{key:"handleSignUpSellsChange",value:function(e){this.setState({signUp:{isBusiness:this.state.isBusiness,name:this.state.signUp.name,pwd:this.state.signUp.pwd,addr:this.state.signUp.addr,sells:e.target.value,shopname:this.state.signUp.shopname}}),console.log(this.state)}},{key:"handleSignUpAddressChange",value:function(e){this.setState({signUp:{isBusiness:this.state.isBusiness,name:this.state.signUp.name,pwd:this.state.signUp.pwd,addr:e.target.value,sells:this.state.signUp.sells,shopname:this.state.signUp.shopname}}),console.log(this.state)}},{key:"handleSignUpIsBusinessChange",value:function(e){this.setState({signUp:{isBusiness:e.target.value,name:this.state.signUp.name,pwd:this.state.signUp.pwd,addr:this.state.signUp.addr,sells:this.state.signUp.sells,shopname:this.state.signUp.shopname}}),console.log(this.state),"client"===this.state.signUp.isBusiness?document.getElementsByClassName("businessForm")[0].style.display="inline-block":document.getElementsByClassName("businessForm")[0].style.display="none"}},{key:"handleSignUp",value:function(){if("business"===this.state.signUp.isBusiness){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop_name:this.state.signUp.name,address:this.state.signUp.addr,sells:this.state.signUp.sells})};console.log(e.body),fetch("https://gentle-ravine-17514.herokuapp.com/shops",e).then((function(e){return e.json()})).then((function(e){return console.log(e)})),this.state.update({isBusiness:!0,name:this.state.name})}else{var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:this.state.signUp.name,address:this.state.signUp.addr})};console.log(t.body),fetch("https://gentle-ravine-17514.herokuapp.com/users",t).then((function(e){return e.json()})).then((function(e){return console.log(e)})),this.state.update({isBusiness:!1,name:this.state.name})}this.setState({loggedIn:!0})}},{key:"render",value:function(){return this.state.loggedIn?s.a.createElement(d.a,{to:"/home"}):s.a.createElement("div",{id:"container",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"signupbox",style:{alignSelf:"center",padding:"20px"}},s.a.createElement("h1",{style:{color:"#eb8c34"}}," Sign Up "),s.a.createElement("form",null,s.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:this.state.signUp.name,onChange:this.handleSignUpNameChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("input",{type:"password",name:"pwd",placeholder:"Password",value:this.state.signUp.pwd,onChange:this.handleSignUpPwdChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"addr",placeholder:"Address",value:this.state.signUp.addr,onChange:this.handleSignUpAddressChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("br",null),"Do you want to use this app for selling purposes?",s.a.createElement("br",null),s.a.createElement("label",{htmlFor:"business"},"Yes: "),s.a.createElement("input",{type:"radio",name:"business",value:"business",checked:"business"===this.state.signUp.isBusiness,onChange:this.handleSignUpIsBusinessChange.bind(this)}),s.a.createElement("label",{htmlFor:"client"},"No: "),s.a.createElement("input",{type:"radio",name:"client",value:"client",checked:"client"===this.state.signUp.isBusiness,onChange:this.handleSignUpIsBusinessChange.bind(this)})),s.a.createElement("form",{className:"businessForm",style:{display:"none"}},s.a.createElement("input",{type:"text",name:"sells",placeholder:"What do you sell?",value:this.state.signUp.sells,onChange:this.handleSignUpSellsChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("br",null),s.a.createElement("button",{onClick:this.handleSignUp.bind(this)}," Submit ")))}}]),n}(s.a.Component)),N=function(e){Object(c.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).sidebarToggleButtonClickHandler=function(){e.setState((function(e){return{sidebarOpened:!e.sidebarOpened}}))},e.backdropClickHandler=function(){e.setState({sidebarOpened:!1})},e.unlockSidebarHandler=function(){e.setState({loggedIn:!0})},e.state={isBusiness:!1,name:"",id:-1,selectedShop:"",sidebarOpened:!1,loggedIn:!1,shoppingCart:[]},e}return Object(o.a)(n,[{key:"update",value:function(e){console.log(e),this.setState({isBusiness:e.isBusiness,name:e.name,loggedIn:!0}),console.log(this.state)}},{key:"updateSelectedShop",value:function(e){this.setState({selectedShop:e}),console.log("updated shop")}},{key:"addToCart",value:function(e){this.state.shoppingCart.push(e),console.log("added item")}},{key:"render",value:function(){var e,t=this;return this.state.sidebarOpened&&(e=s.a.createElement(b,{click:this.backdropClickHandler})),console.log(this.state.name),s.a.createElement(h.a,null,s.a.createElement("div",{style:{height:"100%"}},s.a.createElement(m,{sidebarUnlocked:this.state.loggedIn,sidebarClickHandler:this.sidebarToggleButtonClickHandler,business:this.state.isBusiness}),s.a.createElement(g,{show:this.state.sidebarOpened,business:this.state.isBusiness}),e,s.a.createElement(d.d,null,s.a.createElement(d.b,{path:"/",exact:!0,render:function(e){return s.a.createElement(f,Object.assign({update:t.update.bind(t)},e))}}),s.a.createElement(d.b,{path:"/home"},s.a.createElement(E,{updateSelectedShop:this.updateSelectedShop.bind(this)})),s.a.createElement(d.b,{path:"/signup",exact:!0,render:function(e){return s.a.createElement(U,Object.assign({update:t.update.bind(t)},e))}}),s.a.createElement(d.b,{path:"/shop"},s.a.createElement(v,{shop:this.state.selectedShop,addToCart:this.addToCart.bind(this)})),s.a.createElement(d.b,{path:"/shoppingcart"},s.a.createElement(k,{shoppingCart:this.state.shoppingCart,userName:this.state.name})),s.a.createElement(d.b,{path:"/requestlist"},s.a.createElement(y,{shopName:this.state.name})),s.a.createElement(d.b,{path:"/stocklist"},s.a.createElement(S,{shopName:this.state.name})))))}}]),n}(s.a.Component);l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(N,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.0d2a2a93.chunk.js.map
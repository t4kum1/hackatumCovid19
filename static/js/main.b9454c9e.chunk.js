(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{22:function(e,t,a){e.exports=a(45)},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){},41:function(e,t,a){},42:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),i=a(19),l=a.n(i);a(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=a(3),o=a(4),c=a(6),u=a(5),h=a(1),d=a(10),m=(a(28),a(29),function(e){return s.a.createElement("button",{className:"button",onClick:e.click},s.a.createElement("div",{className:"button_line"}),s.a.createElement("div",{className:"button_line"}),s.a.createElement("div",{className:"button_line"}))}),p=function(e){var t,a="";return e.sidebarUnlocked&&(t=s.a.createElement("div",{className:"sidebarbtn"},s.a.createElement(m,{click:e.sidebarClickHandler})),a=s.a.createElement("ul",null,s.a.createElement(h.b,{to:"/home"},s.a.createElement("li",null,s.a.createElement("a",{href:"/"},"Buy"))),s.a.createElement(h.b,{to:"/shoppingcart"},s.a.createElement("li",null,s.a.createElement("a",{href:"/"},"Shopping Cart"))))),e.business&&(a=s.a.createElement("ul",null,s.a.createElement(h.b,{to:"/home"},s.a.createElement("li",null,"Buy")),s.a.createElement(h.b,{to:"/shoppingcart"},s.a.createElement("li",null,"Shopping Cart")),s.a.createElement(h.b,{to:"/requestlist"},s.a.createElement("li",null,"Requests")),s.a.createElement(h.b,{to:"/stocklist"},s.a.createElement("li",null,"Stock")))),s.a.createElement("header",{className:"toolbar"},s.a.createElement("nav",{className:"navi"},t,s.a.createElement("div",{className:"navi_logo"},s.a.createElement(h.b,{to:"/"},s.a.createElement("a",null,"LOCKDOWNSHOPPING"))),s.a.createElement("div",{className:"placeholder"}),s.a.createElement("div",{className:"navi_items"},a)))},g=(a(35),function(e){var t="sidebar",a=s.a.createElement("ul",null,s.a.createElement(h.b,{to:"/home"},"Buy"),s.a.createElement("br",null),s.a.createElement(h.b,{to:"/shoppingcart"},"Shopping Cart"),s.a.createElement("br",null));return e.show&&(t="sidebar open"),e.business&&(a=s.a.createElement("ul",null,s.a.createElement(h.b,{to:"/home"},"Buy"),s.a.createElement("br",null),s.a.createElement(h.b,{to:"/shoppingcart"},"Shopping Cart"),s.a.createElement("br",null),s.a.createElement(h.b,{to:"/requestlist"},"Requests"),s.a.createElement("br",null),s.a.createElement(h.b,{to:"/stocklist"},"Stock"),s.a.createElement("br",null))),s.a.createElement("nav",{className:t},a)}),b=(a(36),function(e){return s.a.createElement("div",{className:"backdrop",onClick:e.click})}),E=(a(37),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={update:e.update,login:{name:"",pwd:""},signUp:{isBusiness:"client",name:"",pwd:"",sells:"",addr:"",test:""},users:[],shops:[],loggedIn:!1},n}return Object(o.a)(a,[{key:"handleLogin",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/users").then((function(e){return e.json()})).then((function(t){return e.setState({users:t.users})})),fetch("https://gentle-ravine-17514.herokuapp.com/shops").then((function(e){return e.json()})).then((function(t){return e.setState({shops:t.shops})}))}},{key:"handleLoginNameChange",value:function(e){this.setState({login:{name:e.target.value,pwd:this.state.login.pwd}})}},{key:"handleLoginPwdChange",value:function(e){this.setState({login:{name:this.state.login.name,pwd:e.target.value}})}},{key:"render",value:function(e){var t=this;if(this.state.loggedIn)return s.a.createElement(d.a,{to:"/home"});console.log(this.state.users);var a=this.state.users.filter((function(e){return e.user_name===t.state.login.name}));a.length>0&&(console.log("logging in as customer"),console.log("deep: "+a[0]),this.props.update({isBusiness:!1,name:a[0].user_name}),this.setState({loggedIn:!0}));var n=this.state.shops.filter((function(e){return e.shop_name===t.state.login.name}));return n.length>0&&(console.log("logging in as business"),this.props.update({isBusiness:!0,name:n[0].shop_name}),this.setState({loggedIn:!0})),s.a.createElement("div",{id:"container",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"loginBox",style:{alignSelf:"center",padding:"20px"}},s.a.createElement("h1",{style:{color:"#eb8c34"}}," Login "),s.a.createElement("form",{action:""},s.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:this.state.login.name,onChange:this.handleLoginNameChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("input",{type:"password",name:"pwd",placeholder:"Password",value:this.state.login.pwd,onChange:this.handleLoginPwdChange.bind(this)}),s.a.createElement("br",null)),s.a.createElement("br",null),s.a.createElement("p",{className:"additembtn",onClick:this.handleLogin.bind(this)}," Login "),s.a.createElement("br",null),s.a.createElement("div",{className:"signupText"},"Don't have an account? ",s.a.createElement(h.b,{to:"/signup"},"Click here to sign up"))))}}]),a}(s.a.Component)),f=(a(38),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={shops:[],selected:"",updateSelectedShop:e.updateSelectedShop},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/shops").then((function(e){return e.json()})).then((function(t){return e.setState({shops:t.shops})}))}},{key:"handleClick",value:function(e){this.setState({selected:e}),this.state.updateSelectedShop(e)}},{key:"render",value:function(e){var t=this;return 0===this.state.selected.length?s.a.createElement("div",{id:"container",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"shopBox",style:{}},this.state.shops.map((function(e,a){return s.a.createElement("div",{className:"shop",key:a,onClick:function(){return t.handleClick(e.shop_name)}},s.a.createElement("div",{className:"logo"}),s.a.createElement("div",{className:"text"},s.a.createElement("h3",null,e.shop_name),s.a.createElement("p",null,"Type: ",e.sells)," ",s.a.createElement("p",null,"Address: ",e.address)))})))):s.a.createElement(d.a,{to:"/Shop"})}}]),a}(s.a.Component)),v=(a(39),a(40),function(e){return s.a.createElement("div",{className:"message"},s.a.createElement("p",{className:"msg"},e.text))}),y=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).bckdrpClickHandler=function(){n.setState({msgShown:!1})},n.msgToggleButtonClickHandler=function(){n.setState((function(e){return{msgShown:!e.msgShown}}))},n.state={products:[],addToCart:e.addToCart,msgShown:!1},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/products").then((function(e){return e.json()})).then((function(t){return e.setState({products:t.products})}))}},{key:"render",value:function(e){var t,a,n=this;return this.state.msgShown&&(t=s.a.createElement(b,{click:this.bckdrpClickHandler}),a=s.a.createElement(v,{text:"Item added to cart!"})),s.a.createElement("div",null,a,t,s.a.createElement("div",{id:"backgr",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"container"},s.a.createElement("h1",{className:"shopname"}," Welcome to ",this.props.shop," "),s.a.createElement("div",{className:"listgrid"},s.a.createElement("h2",{className:"amountlabel"},this.state.products.filter((function(e){return e.shop_name===n.props.shop})).length," products found"),s.a.createElement("div",{className:"grid"},this.state.products.filter((function(e){return e.shop_name===n.props.shop})).map((function(e,t){return s.a.createElement("div",{className:"product",style:{display:"clock"}},s.a.createElement("div",{className:"fakeImg"}),s.a.createElement("p",{className:"itemname",key:t}," ",e.product_name," "),s.a.createElement("p",{className:"price"},"50 \u20ac"),s.a.createElement("p",{className:"addtocart",onClick:function(){return n.state.addToCart(e)}}," Add to Cart "))})))))))}}]),a}(s.a.Component),k=(a(41),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={shop_name:e.shopName,requests:[]},n}return Object(o.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/requests").then((function(e){return e.json()})).then((function(t){return e.setState({requests:t.requests})}))}},{key:"render",value:function(){var e=this;return console.log(this.state.shop_name),s.a.createElement("div",{id:"backgr",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"requestBox"},s.a.createElement("h1",null,"Pending requests"),s.a.createElement("div",{className:"reqlist"},this.state.requests.filter((function(t){return t.shop_name===e.state.shop_name})).map((function(e){return s.a.createElement("div",{className:"request"},s.a.createElement("p",{className:"implabel"},e.product_name)," ",s.a.createElement("p",null," Desired Quantity:")," ",s.a.createElement("p",{className:"implabel"}," ",e.request_quantity," ")," ",s.a.createElement("p",null," Available: ")," ",s.a.createElement("p",{className:"implabel"}," ",e.product_quantity," "))})))))}}]),a}(s.a.Component)),C=(a(42),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).bckdrpClickHandler=function(){n.setState({msgShown:!1})},n.msgToggleButtonClickHandler=function(){n.setState((function(e){return{msgShown:!e.msgShown}}))},n.state={shoppingCart:e.shoppingCart,user_name:e.userName,msgShown:!1},n}return Object(o.a)(a,[{key:"submitRequest",value:function(e){var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop_name:e.shop_name,user_name:this.state.user_name,product_name:e.product_name,quantity:e.quantity})};console.log(t.body),fetch("https://gentle-ravine-17514.herokuapp.com/requests",t).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},{key:"submitRequests",value:function(){var e=this;this.state.shoppingCart.forEach((function(t){return e.submitRequest(t)})),this.msgToggleButtonClickHandler()}},{key:"render",value:function(){var e,t;return this.state.msgShown&&(e=s.a.createElement(b,{click:this.bckdrpClickHandler}),t=s.a.createElement(v,{text:"Request sent!"})),s.a.createElement("div",null,t,e,s.a.createElement("div",{id:"backgr",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"cart"},s.a.createElement("h1",null,"Shopping Cart"),s.a.createElement("h2",null," ",this.state.shoppingCart.length," items in the cart"),s.a.createElement("div",{className:"cartlist"},this.props.shoppingCart.map((function(e){return s.a.createElement("div",{className:"cartitem"},s.a.createElement("p",null," ",e.product_name," "),s.a.createElement("div",{className:"spacer"}),s.a.createElement("p",null,"x1"))}))),s.a.createElement("p",{className:"cartbtn",onClick:this.submitRequests.bind(this)}," Request items "))))}}]),a}(s.a.Component)),S=a(13),N=(a(43),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),console.log(e),(n=t.call(this)).state={products:[],name:e.shopName,addItem:"",quantity:0},n.loadProducts.bind(Object(S.a)(n)),n}return Object(o.a)(a,[{key:"loadProducts",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/products").then((function(e){return e.json()})).then((function(t){return e.setState({products:t.products})}))}},{key:"componentDidMount",value:function(){this.loadProducts()}},{key:"addItem",value:function(){if(this.state.addItem.length>0){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop_name:this.state.name,product_name:this.state.addItem,quantity:this.state.quantity})};console.log(e.body),fetch("https://gentle-ravine-17514.herokuapp.com/products",e).then((function(e){return e.json()})).then((function(e){return console.log(e)})),this.setState({addItem:""}),this.state.products.push({shop_name:this.state.name,product_name:this.state.addItem,quantity:this.state.quantity})}}},{key:"handleAddItemChange",value:function(e){this.setState({addItem:e.target.value})}},{key:"handleQuantityChange",value:function(e){this.setState({quantity:e.target.value})}},{key:"render",value:function(){var e=this;return console.log(this.state),s.a.createElement("div",{id:"backgr",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"stockBox"},s.a.createElement("h1",null," This is your inventory,  ",this.state.name," "),s.a.createElement("h2",null," You have ",this.state.products.length," products"),s.a.createElement("div",{className:"liststock"},this.state.products.filter((function(t){return t.shop_name===e.state.name})).map((function(e,t){return s.a.createElement("div",{className:"stockitem"},s.a.createElement("p",{key:t}," ",e.product_name," "),s.a.createElement("div",{className:"spacer"}),s.a.createElement("p",null,"x",e.quantity))})))),s.a.createElement("div",{className:"additemBox"},s.a.createElement("h2",{className:"addLabel"},"Add item"),s.a.createElement("input",{type:"text",name:"name",placeholder:"Product Name",value:this.state.addItem,onChange:this.handleAddItemChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("input",{type:"number",name:"quantity",placeholder:"Quantity",value:this.state.quantity,onChange:this.handleQuantityChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("br",null),s.a.createElement("p",{className:"additembtn",onClick:this.addItem.bind(this)}," Add Item ")))}}]),a}(s.a.Component)),U=(a(44),function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this)).state={update:e.update,signUp:{isBusiness:"",name:"",pwd:"",sells:"",addr:"",test:"",shopname:""},users:[],loggedIn:!1},n}return Object(o.a)(a,[{key:"handleSignUpNameChange",value:function(e){this.setState({signUp:{isBusiness:this.state.signUp.isBusiness,name:e.target.value,pwd:this.state.signUp.pwd,addr:this.state.signUp.addr,sells:this.state.signUp.sells,shopname:this.state.signUp.shopname}}),console.log(this.state)}},{key:"handleSignUpPwdChange",value:function(e){this.setState({signUp:{isBusiness:this.state.signUp.isBusiness,name:this.state.signUp.name,pwd:e.target.value,addr:this.state.signUp.addr,sells:this.state.signUp.sells,shopname:this.state.signUp.shopname}}),console.log(this.state)}},{key:"handleSignUpSellsChange",value:function(e){this.setState({signUp:{isBusiness:this.state.isBusiness,name:this.state.signUp.name,pwd:this.state.signUp.pwd,addr:this.state.signUp.addr,sells:e.target.value,shopname:this.state.signUp.shopname}}),console.log(this.state)}},{key:"handleSignUpAddressChange",value:function(e){this.setState({signUp:{isBusiness:this.state.isBusiness,name:this.state.signUp.name,pwd:this.state.signUp.pwd,addr:e.target.value,sells:this.state.signUp.sells,shopname:this.state.signUp.shopname}}),console.log(this.state)}},{key:"handleSignUpIsBusinessChange",value:function(e){this.setState({signUp:{isBusiness:e.target.value,name:this.state.signUp.name,pwd:this.state.signUp.pwd,addr:this.state.signUp.addr,sells:this.state.signUp.sells,shopname:this.state.signUp.shopname}}),console.log(this.state),"client"===this.state.signUp.isBusiness?document.getElementsByClassName("businessForm")[0].style.display="inline-block":document.getElementsByClassName("businessForm")[0].style.display="none"}},{key:"handleSignUp",value:function(){if("business"===this.state.signUp.isBusiness){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop_name:this.state.signUp.name,address:this.state.signUp.addr,sells:this.state.signUp.sells})};console.log(e.body),fetch("https://gentle-ravine-17514.herokuapp.com/shops",e).then((function(e){return e.json()})).then((function(e){return console.log(e)})),this.state.update({isBusiness:!0,name:this.state.name})}else{var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:this.state.signUp.name,address:this.state.signUp.addr})};console.log(t.body),fetch("https://gentle-ravine-17514.herokuapp.com/users",t).then((function(e){return e.json()})).then((function(e){return console.log(e)})),this.state.update({isBusiness:!1,name:this.state.name})}this.setState({loggedIn:!0})}},{key:"render",value:function(){return this.state.loggedIn?s.a.createElement(d.a,{to:"/home"}):s.a.createElement("div",{id:"container",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, #eb8c34 0%, #eb5234 100%)"}},s.a.createElement("div",{className:"signupbox",style:{alignSelf:"center",padding:"20px"}},s.a.createElement("h1",{style:{color:"#eb8c34"}}," Sign Up "),s.a.createElement("form",null,s.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:this.state.signUp.name,onChange:this.handleSignUpNameChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("input",{type:"password",name:"pwd",placeholder:"Password",value:this.state.signUp.pwd,onChange:this.handleSignUpPwdChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("input",{type:"text",name:"addr",placeholder:"Address",value:this.state.signUp.addr,onChange:this.handleSignUpAddressChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("br",null),"Do you want to use this app for selling purposes?",s.a.createElement("br",null),s.a.createElement("label",{htmlFor:"business"},"Yes: "),s.a.createElement("input",{type:"radio",name:"business",value:"business",checked:"business"===this.state.signUp.isBusiness,onChange:this.handleSignUpIsBusinessChange.bind(this)}),s.a.createElement("label",{htmlFor:"client"},"No: "),s.a.createElement("input",{type:"radio",name:"client",value:"client",checked:"client"===this.state.signUp.isBusiness,onChange:this.handleSignUpIsBusinessChange.bind(this)})),s.a.createElement("form",{className:"businessForm",style:{display:"none"}},s.a.createElement("input",{type:"text",name:"sells",placeholder:"What do you sell?",value:this.state.signUp.sells,onChange:this.handleSignUpSellsChange.bind(this)}),s.a.createElement("br",null),s.a.createElement("br",null)),s.a.createElement("br",null),s.a.createElement("p",{className:"additembtn",onClick:this.handleSignUp.bind(this)}," Submit ")))}}]),a}(s.a.Component)),j=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).sidebarToggleButtonClickHandler=function(){e.setState((function(e){return{sidebarOpened:!e.sidebarOpened}}))},e.backdropClickHandler=function(){e.setState({sidebarOpened:!1})},e.unlockSidebarHandler=function(){e.setState({loggedIn:!0})},e.state={isBusiness:!1,name:"",id:-1,selectedShop:"",sidebarOpened:!1,loggedIn:!1,shoppingCart:[]},e}return Object(o.a)(a,[{key:"update",value:function(e){console.log(e),this.setState({isBusiness:e.isBusiness,name:e.name,loggedIn:!0}),console.log(this.state)}},{key:"updateSelectedShop",value:function(e){this.setState({selectedShop:e}),console.log("updated shop")}},{key:"addToCart",value:function(e,t){e.quantity=t.value,this.state.shoppingCart.push(e),console.log("added item"),console.log(e)}},{key:"render",value:function(){var e,t=this;return this.state.sidebarOpened&&(e=s.a.createElement(b,{click:this.backdropClickHandler})),console.log(this.state.name),s.a.createElement(h.a,null,s.a.createElement("div",{style:{height:"100%"}},s.a.createElement(p,{sidebarUnlocked:this.state.loggedIn,sidebarClickHandler:this.sidebarToggleButtonClickHandler,business:this.state.isBusiness}),s.a.createElement(g,{show:this.state.sidebarOpened,business:this.state.isBusiness}),e,s.a.createElement(d.d,null,s.a.createElement(d.b,{path:"/",exact:!0,render:function(e){return s.a.createElement(E,Object.assign({update:t.update.bind(t)},e))}}),s.a.createElement(d.b,{path:"/home"},s.a.createElement(f,{updateSelectedShop:this.updateSelectedShop.bind(this)})),s.a.createElement(d.b,{path:"/signup",exact:!0,render:function(e){return s.a.createElement(U,Object.assign({update:t.update.bind(t)},e))}}),s.a.createElement(d.b,{path:"/shop"},s.a.createElement(y,{shop:this.state.selectedShop,addToCart:this.addToCart.bind(this)})),s.a.createElement(d.b,{path:"/shoppingcart"},s.a.createElement(C,{shoppingCart:this.state.shoppingCart})),s.a.createElement(d.b,{path:"/requestlist"},s.a.createElement(k,{shopName:this.state.name})),s.a.createElement(d.b,{path:"/stocklist"},s.a.createElement(N,{shopName:this.state.name})))))}}]),a}(s.a.Component);l.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.b9454c9e.chunk.js.map
(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],{22:function(e,t,n){e.exports=n(35)},27:function(e,t,n){},28:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},34:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var s=n(0),a=n.n(s),i=n(19),l=n.n(i);n(27),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(4),o=n(5),h=n(7),p=n(6),u=(n(28),n(12)),d=n(9),c=(a.a.Component,n(17),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this)).state={update:e.update,login:{name:"",pwd:""},signUp:{isBusiness:"client",name:"",pwd:"",sells:"",addr:"",test:""},users:[],shops:[],loggedIn:!1},s}return Object(o.a)(n,[{key:"handleLogin",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/users").then((function(e){return e.json()})).then((function(t){return e.setState({users:t.users})})),fetch("https://gentle-ravine-17514.herokuapp.com/shops").then((function(e){return e.json()})).then((function(t){return e.setState({shops:t.shops})}))}},{key:"handleSignUp",value:function(){if("business"===this.state.signUp.isBusiness){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({shop_name:this.state.signUp.name,address:this.state.signUp.addr,sells:this.state.signUp.sells})};console.log(e.body),fetch("https://gentle-ravine-17514.herokuapp.com/shops",e).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}else{var t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_name:this.state.signUp.name,address:this.state.signUp.addr})};console.log(t.body),fetch("https://gentle-ravine-17514.herokuapp.com/users",t).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}}},{key:"handleLoginNameChange",value:function(e){this.setState({login:{name:e.target.value,pwd:this.state.login.pwd}})}},{key:"handleLoginPwdChange",value:function(e){this.setState({login:{name:this.state.login.name,pwd:e.target.value}})}},{key:"handleSignUpNameChange",value:function(e){this.setState({signUp:{isBusiness:this.state.signUp.isBusiness,name:e.target.value,pwd:this.state.signUp.pwd,addr:this.state.signUp.addr,sells:this.state.signUp.sells}})}},{key:"handleSignUpPwdChange",value:function(e){this.setState({signUp:{isBusiness:this.state.signUp.isBusiness,name:this.state.signUp.name,pwd:e.target.value,addr:this.state.signUp.addr,sells:this.state.signUp.sells}})}},{key:"handleSignUpIsBusinessChange",value:function(e){this.setState({signUp:{isBusiness:e.target.value,name:this.state.signUp.name,pwd:this.state.signUp.pwd,addr:this.state.signUp.addr,sells:this.state.signUp.sells}})}},{key:"handleSignUpSellsChange",value:function(e){this.setState({signUp:{isBusiness:this.state.isBusiness,name:this.state.signUp.name,pwd:this.state.signUp.pwd,addr:this.state.signUp.addr,sells:e.target.value}})}},{key:"handleSignUpAddressChange",value:function(e){this.setState({signUp:{isBusiness:this.state.isBusiness,name:this.state.signUp.name,pwd:this.state.signUp.pwd,addr:e.target.value,sells:this.state.signUp.sells}})}},{key:"handleSignUpIsBusinessChange",value:function(e){this.setState({signUp:{isBusiness:e.target.value,name:this.state.signUp.name,pwd:this.state.signUp.pwd,addr:this.state.signUp.addr,sells:this.state.signUp.sells}})}},{key:"render",value:function(e){var t=this;if(this.state.loggedIn)return a.a.createElement(d.a,{to:"/home"});console.log(this.state.users);var n=this.state.users.filter((function(e){return e.user_name===t.state.login.name}));n.length>0&&(console.log("logging in as customer"),this.props.update({isBusiness:!1,name:n[0].user_name}),this.setState({loggedIn:!0}));var s=this.state.shops.filter((function(e){return e.shop_name===t.state.login.name}));return s.length>0&&(console.log("logging in as customer"),this.props.update({isBusiness:!0,name:s[0].user_name}),this.setState({loggedIn:!0})),a.a.createElement("div",{id:"container",style:{display:"flex",justifyContent:"space-around",height:"100vh",background:"linear-gradient(to right, rgb(204, 229, 255) 0%, rgb(0, 74, 153) 100%)"}},a.a.createElement("div",{className:"tc grow bg-lightest-blue br3 pa3 ma2 dib bw2 shadow-5",style:{alignSelf:"center",padding:"5px"}},a.a.createElement("h1",null," Login "),a.a.createElement("form",{style:{display:"grid",gridTemplateColumns:"1fr",gridGap:"5px"}},a.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:this.state.login.name,onChange:this.handleLoginNameChange.bind(this)}),a.a.createElement("br",null),a.a.createElement("input",{type:"password",name:"pwd",placeholder:"Password",value:this.state.login.pwd,onChange:this.handleLoginPwdChange.bind(this)}),a.a.createElement("br",null)),a.a.createElement("button",{onClick:this.handleLogin.bind(this)}," Submit ")),a.a.createElement("div",{className:"tc grow bg-lightest-blue br3 pa3 ma2 dib bw2 shadow-5",style:{alignSelf:"center",padding:"5px"}},a.a.createElement("h1",null," SignUp "),a.a.createElement("form",{style:{display:"grid",gridTemplateColumns:"1fr",gridGap:"5px"}},a.a.createElement("input",{type:"text",name:"name",placeholder:"Name",value:this.state.signUp.name,onChange:this.handleSignUpNameChange.bind(this)}),a.a.createElement("br",null),a.a.createElement("input",{type:"password",name:"pwd",placeholder:"Password",value:this.state.signUp.pwd,onChange:this.handleSignUpPwdChange.bind(this)}),a.a.createElement("br",null),a.a.createElement("input",{type:"text",name:"sells",placeholder:"What do you sell?",value:this.state.signUp.sells,onChange:this.handleSignUpSellsChange.bind(this)}),a.a.createElement("br",null),a.a.createElement("input",{type:"text",name:"addr",placeholder:"Address",value:this.state.signUp.addr,onChange:this.handleSignUpAddressChange.bind(this)}),a.a.createElement("br",null),a.a.createElement("label",null," Business ",a.a.createElement("input",{type:"radio",value:"business",checked:"business"===this.state.signUp.isBusiness,onChange:this.handleSignUpIsBusinessChange.bind(this)})),a.a.createElement("label",null," Kunde",a.a.createElement("input",{type:"radio",value:"client",checked:"client"===this.state.signUp.isBusiness,onChange:this.handleSignUpIsBusinessChange.bind(this)}))),a.a.createElement("button",{onClick:this.handleSignUp.bind(this)}," Submit ")))}}]),n}(a.a.Component)),g=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(e){var s;return Object(r.a)(this,n),(s=t.call(this)).state={shops:[],selected:"",updateSelectedShop:e.updateSelectedShop},s}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/shops").then((function(e){return e.json()})).then((function(t){return e.setState({shops:t.shops})}))}},{key:"handleClick",value:function(e){this.setState({selected:e}),console.log(this.state.updateSelectedShop),this.state.updateSelectedShop(e)}},{key:"render",value:function(){var e=this;return 0===this.state.selected.length?a.a.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr"}},this.state.shops.map((function(t,n){return a.a.createElement("button",{key:n,onClick:function(){return e.handleClick(t.shop_name)}},"Name: ",t.shop_name,", Type: ",t.sells,", Address: ",t.address)}))):a.a.createElement(d.a,{to:"/Shop"})}}]),n}(a.a.Component),m=function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={products:[]},e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;fetch("https://gentle-ravine-17514.herokuapp.com/products").then((function(e){return e.json()})).then((function(t){return e.setState({products:t.products})}))}},{key:"render",value:function(e){var t=this;return a.a.createElement("div",null,a.a.createElement("h1",null," Welcome to ",this.props.shop," "),this.state.products.filter((function(e){return e.shop_name===t.props.shop})).map((function(e,t){return a.a.createElement("p",null," Name: ",e.product_name," ")})))}}]),n}(a.a.Component),f=(n(34),function(e){Object(h.a)(n,e);var t=Object(p.a)(n);function n(){var e;return Object(r.a)(this,n),(e=t.call(this)).state={isBusiness:!1,name:"",id:-1,selectedShop:""},e}return Object(o.a)(n,[{key:"update",value:function(e){this.setState({isBusiness:this.props.isBusiness,name:this.props.name}),console.log(this.state)}},{key:"updateSelectedShop",value:function(e){this.setState({selectedShop:e}),console.log("updated shop")}},{key:"render",value:function(){var e=this;return a.a.createElement(u.a,null,a.a.createElement("div",null,a.a.createElement(d.b,{path:"/",render:function(t){return a.a.createElement(c,Object.assign({update:e.update.bind(e)},t))}}),a.a.createElement(d.b,{path:"/home"},a.a.createElement(g,{updateSelectedShop:this.updateSelectedShop.bind(this)})),a.a.createElement(d.b,{path:"/shop"},a.a.createElement(m,{shop:this.state.selectedShop}))))}}]),n}(a.a.Component));l.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[22,1,2]]]);
//# sourceMappingURL=main.34bb5266.chunk.js.map